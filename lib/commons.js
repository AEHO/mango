!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var r=window.webpackJsonp;window.webpackJsonp=function(o,a){for(var s,u,c=0,l=[];c<o.length;c++)u=o[c],i[u]&&l.push.apply(l,i[u]),i[u]=0;for(s in a)t[s]=a[s];for(r&&r(o,a);l.length;)l.shift().call(null,e);return a[0]?(n[0]=0,e(0)):void 0};var n={},i={3:0};e.e=function(t,r){if(0===i[t])return r.call(null,e);if(void 0!==i[t])i[t].push(r);else{i[t]=[r];var n=document.getElementsByTagName("head")[0],o=document.createElement("script");o.type="text/javascript",o.charset="utf-8",o.async=!0,o.src=e.p+""+t+".chunk.js",n.appendChild(o)}},e.m=t,e.c=n,e.p="/lib/"}([,function(t,e){"use strict";e["default"]=function(t){return t&&t.__esModule?t:{"default":t}},e.__esModule=!0},function(t,e,r){"use strict";var n=r(3)["default"],i=r(8)["default"],o=r(9)["default"],a=r(27)["default"];Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(e){var r,n=void 0===arguments[1]?{}:arguments[1];i(this,t),this._gl={},this._canvas=e,this._camera,this._buttons={},this._keys={},this._create3DContext(),this._gl.enable(this._gl.DEPTH_TEST),n.clearColor?(r=this._gl).clearColor.apply(r,o(n.clearColor)):this._gl.clearColor(0,0,0,1)}return n(t,[{key:"update",value:function(){this._resize(),this._gl.clear(this._gl.COLOR_BUFFER_BIT|this._gl.DEPTH_BUFFER_BIT)}},{key:"_resize",value:function(){var t=this._canvas,e=t.clientWidth,r=t.clientHeight;(this._canvas.width!==e||this._canvas.height!==r)&&(this._canvas.width=e,this._canvas.height=r,this._camera&&(this._camera.ar=e/r,this._camera._width=e,this._camera._height=r),this._gl.viewport(0,0,e,r))}},{key:"isKeyActive",value:function(t){return this._keys[t]}},{key:"isButtonActive",value:function(t){return this._buttons[t]}},{key:"bindControls",value:function(){var t=this,e=void 0===arguments[0]?{}:arguments[0];e.keys=e.keys||!0,e.mouse=e.mouse||!0,e.interceptRightClick=e.interceptRightClick||!1,e.keys&&(window.addEventListener("keydown",function(e){t._keys[e.keyCode]=!0},!1),window.addEventListener("keyup",function(e){t._keys[e.keyCode]=!1})),e.mouse&&(this._canvas.addEventListener("mousedown",function(r){t._buttons[r.button]=!0,e.onMouseDown&&e.onMouseDown(r)}),this._canvas.addEventListener("mouseup",function(r){t._buttons[r.button]=!1,e.onMouseUp&&e.onMouseUp(r)})),e.interceptRightClick&&window.addEventListener("contextmenu",function(t){return t.preventDefault(),!1}),e.onMouseMove&&this._canvas.addEventListener("mousemove",e.onMouseMove),e.onClick&&this._canvas.addEventListener("click",e.onClick)}},{key:"_create3DContext",value:function(){var t=["webgl","experimental-webgl","webkit-3d","moz-webgl"],e=void 0,r=!0,n=!1,i=void 0;try{for(var o,s=a(t);!(r=(o=s.next()).done);r=!0){var u=o.value;try{e=this._canvas.getContext(u)}catch(c){}if(e)break}}catch(l){n=!0,i=l}finally{try{!r&&s["return"]&&s["return"]()}finally{if(n)throw i}}if(!e)throw new Error("GL instance coudl't be set.");this._gl=e}},{key:"width",get:function(){return this._canvas.width}},{key:"height",get:function(){return this._canvas.height}},{key:"camera",get:function(){return this._camera},set:function(t){this._camera=t}}]),t}();e["default"]=s,t.exports=e["default"]},function(t,e,r){"use strict";var n=r(4)["default"];e["default"]=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),n(t,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),e.__esModule=!0},function(t,e,r){t.exports={"default":r(5),__esModule:!0}},function(t,e,r){var n=r(6);t.exports=function(t,e,r){return n.setDesc(t,e,r)}},function(t,e,r){"use strict";function n(t){return isNaN(t=+t)?0:(t>0?v:_)(t)}function i(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}function o(t,e,r){return t[e]=r,t}function a(t){return g?function(e,r,n){return M.setDesc(e,r,i(t,n))}:o}function s(t){return null!==t&&("object"==typeof t||"function"==typeof t)}function u(t){return"function"==typeof t}function c(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}var l="undefined"!=typeof self?self:Function("return this")(),f={},h=Object.defineProperty,d={}.hasOwnProperty,_=Math.ceil,v=Math.floor,p=Math.max,m=Math.min,g=!!function(){try{return 2==h({},"a",{get:function(){return 2}}).a}catch(t){}}(),y=a(1),M=t.exports=r(7)({g:l,core:f,html:l.document&&document.documentElement,isObject:s,isFunction:u,that:function(){return this},toInteger:n,toLength:function(t){return t>0?m(n(t),9007199254740991):0},toIndex:function(t,e){return t=n(t),0>t?p(t+e,0):m(t,e)},has:function(t,e){return d.call(t,e)},create:Object.create,getProto:Object.getPrototypeOf,DESC:g,desc:i,getDesc:Object.getOwnPropertyDescriptor,setDesc:h,setDescs:Object.defineProperties,getKeys:Object.keys,getNames:Object.getOwnPropertyNames,getSymbols:Object.getOwnPropertySymbols,assertDefined:c,ES5Object:Object,toObject:function(t){return M.ES5Object(c(t))},hide:y,def:a(0),set:l.Symbol?o:y,each:[].forEach});"undefined"!=typeof __e&&(__e=f),"undefined"!=typeof __g&&(__g=l)},function(t,e){t.exports=function(t){return t.FW=!1,t.path=t.core,t}},function(t,e){"use strict";e["default"]=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},e.__esModule=!0},function(t,e,r){"use strict";var n=r(10)["default"];e["default"]=function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return n(t)},e.__esModule=!0},function(t,e,r){t.exports={"default":r(11),__esModule:!0}},function(t,e,r){r(12),r(23),t.exports=r(6).core.Array.from},function(t,e,r){var n=r(6).set,i=r(13)(!0),o=r(14).safe("iter"),a=r(15),s=a.step;r(20)(String,"String",function(t){n(this,o,{o:String(t),i:0})},function(){var t,e=this[o],r=e.o,n=e.i;return n>=r.length?s(1):(t=i(r,n),e.i+=t.length,s(0,t))})},function(t,e,r){var n=r(6);t.exports=function(t){return function(e,r){var i,o,a=String(n.assertDefined(e)),s=n.toInteger(r),u=a.length;return 0>s||s>=u?t?"":void 0:(i=a.charCodeAt(s),55296>i||i>56319||s+1===u||(o=a.charCodeAt(s+1))<56320||o>57343?t?a.charAt(s):i:t?a.slice(s,s+2):(i-55296<<10)+(o-56320)+65536)}}},function(t,e,r){function n(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+Math.random()).toString(36))}var i=0;n.safe=r(6).g.Symbol||n,t.exports=n},function(t,e,r){"use strict";function n(t,e){i.hide(t,c,e),l in[]&&i.hide(t,l,e)}var i=r(6),o=r(16),a=o.classof,s=r(19),u=s.obj,c=r(17)("iterator"),l="@@iterator",f=r(18)("iterators"),h={};n(h,i.that),t.exports={BUGGY:"keys"in[]&&!("next"in[].keys()),Iterators:f,step:function(t,e){return{value:e,done:!!t}},is:function(t){var e=Object(t),r=i.g.Symbol;return(r&&r.iterator||l)in e||c in e||i.has(f,a(e))},get:function(t){var e,r=i.g.Symbol;return void 0!=t&&(e=t[r&&r.iterator||l]||t[c]||f[a(t)]),s(i.isFunction(e),t," is not iterable!"),u(e.call(t))},set:n,create:function(t,e,r,n){t.prototype=i.create(n||h,{next:i.desc(1,r)}),o.set(t,e+" Iterator")}}},function(t,e,r){function n(t){return a.call(t).slice(8,-1)}var i=r(6),o=r(17)("toStringTag"),a={}.toString;n.classof=function(t){var e,r;return void 0==t?void 0===t?"Undefined":"Null":"string"==typeof(r=(e=Object(t))[o])?r:n(e)},n.set=function(t,e,r){t&&!i.has(t=r?t:t.prototype,o)&&i.hide(t,o,e)},t.exports=n},function(t,e,r){var n=r(6).g,i=r(18)("wks");t.exports=function(t){return i[t]||(i[t]=n.Symbol&&n.Symbol[t]||r(14).safe("Symbol."+t))}},function(t,e,r){var n=r(6),i="__core-js_shared__",o=n.g[i]||(n.g[i]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e,r){function n(t,e,r){if(!t)throw TypeError(r?e+r:e)}var i=r(6);n.def=i.assertDefined,n.fn=function(t){if(!i.isFunction(t))throw TypeError(t+" is not a function!");return t},n.obj=function(t){if(!i.isObject(t))throw TypeError(t+" is not an object!");return t},n.inst=function(t,e,r){if(!(t instanceof e))throw TypeError(r+": use the 'new' operator!");return t},t.exports=n},function(t,e,r){var n=r(21),i=r(22),o=r(6),a=r(16),s=r(15),u=r(17)("iterator"),c="@@iterator",l="keys",f="values",h=s.Iterators;t.exports=function(t,e,r,d,_,v,p){function m(t){function e(e){return new r(e,t)}switch(t){case l:return function(){return e(this)};case f:return function(){return e(this)}}return function(){return e(this)}}s.create(r,e,d);var g,y,M=e+" Iterator",w=t.prototype,b=w[u]||w[c]||_&&w[_],x=b||m(_);if(b){var P=o.getProto(x.call(new t));a.set(P,M,!0),o.FW&&o.has(w,c)&&s.set(P,o.that)}if((o.FW||p)&&s.set(w,x),h[e]=x,h[M]=o.that,_)if(g={keys:v?x:m(l),values:_==f?x:m(f),entries:_!=f?x:m("entries")},p)for(y in g)y in w||i(w,y,g[y]);else n(n.P+n.F*s.BUGGY,e,g)}},function(t,e,r){function n(t,e){return function(){return t.apply(e,arguments)}}function i(t,e,r){var o,c,l,f,h=t&i.G,d=t&i.P,_=h?a:t&i.S?a[e]:(a[e]||{}).prototype,v=h?s:s[e]||(s[e]={});h&&(r=e);for(o in r)c=!(t&i.F)&&_&&o in _,c&&o in v||(l=c?_[o]:r[o],h&&!u(_[o])?f=r[o]:t&i.B&&c?f=n(l,a):t&i.W&&_[o]==l?!function(t){f=function(e){return this instanceof t?new t(e):t(e)},f.prototype=t.prototype}(l):f=d&&u(l)?n(Function.call,l):l,v[o]=f,d&&((v.prototype||(v.prototype={}))[o]=l))}var o=r(6),a=o.g,s=o.core,u=o.isFunction;i.F=1,i.G=2,i.S=4,i.P=8,i.B=16,i.W=32,t.exports=i},function(t,e,r){t.exports=r(6).hide},function(t,e,r){var n=r(6),i=r(24),o=r(21),a=r(15),s=r(25);o(o.S+o.F*!r(26)(function(t){Array.from(t)}),"Array",{from:function(t){var e,r,o,u,c=Object(n.assertDefined(t)),l=arguments[1],f=void 0!==l,h=f?i(l,arguments[2],2):void 0,d=0;if(a.is(c))for(u=a.get(c),r=new("function"==typeof this?this:Array);!(o=u.next()).done;d++)r[d]=f?s(u,h,[o.value,d],!0):o.value;else for(r=new("function"==typeof this?this:Array)(e=n.toLength(c.length));e>d;d++)r[d]=f?h(c[d],d):c[d];return r.length=d,r}})},function(t,e,r){var n=r(19).fn;t.exports=function(t,e,r){if(n(t),~r&&void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,r){function n(t){var e=t["return"];void 0!==e&&o(e.call(t))}function i(t,e,r,i){try{return i?e(o(r)[0],r[1]):e(r)}catch(a){throw n(t),a}}var o=r(19).obj;i.close=n,t.exports=i},function(t,e,r){var n=r(17)("iterator"),i=!1;try{var o=[7][n]();o["return"]=function(){i=!0},Array.from(o,function(){throw 2})}catch(a){}t.exports=function(t){if(!i)return!1;var e=!1;try{var r=[7],o=r[n]();o.next=function(){e=!0},r[n]=function(){return o},t(r)}catch(a){}return e}},function(t,e,r){t.exports={"default":r(28),__esModule:!0}},function(t,e,r){r(29),r(12),r(32),t.exports=r(6).core.getIterator},function(t,e,r){r(30);var n=r(6),i=r(15).Iterators,o=r(17)("iterator"),a=i.Array,s=n.g.NodeList,u=n.g.HTMLCollection,c=s&&s.prototype,l=u&&u.prototype;n.FW&&(!s||o in c||n.hide(c,o,a),!u||o in l||n.hide(l,o,a)),i.NodeList=i.HTMLCollection=a},function(t,e,r){var n=r(6),i=r(31),o=r(14).safe("iter"),a=r(15),s=a.step,u=a.Iterators;r(20)(Array,"Array",function(t,e){n.set(this,o,{o:n.toObject(t),i:0,k:e})},function(){var t=this[o],e=t.o,r=t.k,n=t.i++;return!e||n>=e.length?(t.o=void 0,s(1)):"keys"==r?s(0,n):"values"==r?s(0,e[n]):s(0,[n,e[n]])},"values"),u.Arguments=u.Array,i("keys"),i("values"),i("entries")},function(t,e){t.exports=function(){}},function(t,e,r){var n=r(6).core,i=r(15);n.isIterable=i.is,n.getIterator=i.get},function(t,e,r){"use strict";var n=r(34)["default"],i=r(37)["default"],o=r(3)["default"],a=r(8)["default"],s=r(1)["default"];Object.defineProperty(e,"__esModule",{value:!0});var u=r(42),c=s(u),l=r(53),f=s(l),h=r(55),d=s(h),_=function(t){function e(t,r){a(this,e),i(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this._gl=t,this._shader=r.material.shader,this._material=r.material,this._drawMode=r.drawMode?t[r.drawMode]:t.TRIANGLES,this._buffer=new f["default"](t,this._shader.prepare(r.geometry),this._shader._STRIDE),r.geometry.indices&&(this._ibo=new d["default"](t,r.geometry.indices))}return n(e,t),o(e,[{key:"draw",value:function(t){this._shader.enable(),this._buffer.bind(),this._shader.prepareUniforms(this,t),this._shader.prepareLocations(this._buffer),this._ibo?(this._ibo.bind(),this._gl.drawElements(this._drawMode,this._ibo.count,this._gl.UNSIGNED_SHORT,0)):this._gl.drawArrays(this._drawMode,0,this._buffer.count)}}]),e}(c["default"]);e["default"]=_,t.exports=e["default"]},function(t,e,r){"use strict";var n=r(35)["default"];e["default"]=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=n(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},e.__esModule=!0},function(t,e,r){t.exports={"default":r(36),__esModule:!0}},function(t,e,r){var n=r(6);t.exports=function(t,e){return n.create(t,e)}},function(t,e,r){"use strict";var n=r(38)["default"];e["default"]=function(t,e,r){for(var i=!0;i;){var o=t,a=e,s=r;u=l=c=void 0,i=!1,null===o&&(o=Function.prototype);var u=n(o,a);if(void 0!==u){if("value"in u)return u.value;var c=u.get;return void 0===c?void 0:c.call(s)}var l=Object.getPrototypeOf(o);if(null===l)return void 0;t=l,e=a,r=s,i=!0}},e.__esModule=!0},function(t,e,r){t.exports={"default":r(39),__esModule:!0}},function(t,e,r){var n=r(6);r(40),t.exports=function(t,e){return n.getDesc(t,e)}},function(t,e,r){var n=r(6),i=r(21),o=n.isObject,a=n.toObject;n.each.call("freeze,seal,preventExtensions,isFrozen,isSealed,isExtensible,getOwnPropertyDescriptor,getPrototypeOf,keys,getOwnPropertyNames".split(","),function(t,e){var s=(n.core.Object||{})[t]||Object[t],u=0,c={};c[t]=0==e?function(t){return o(t)?s(t):t}:1==e?function(t){return o(t)?s(t):t}:2==e?function(t){return o(t)?s(t):t}:3==e?function(t){return o(t)?s(t):!0}:4==e?function(t){return o(t)?s(t):!0}:5==e?function(t){return o(t)?s(t):!1}:6==e?function(t,e){return s(a(t),e)}:7==e?function(t){return s(Object(n.assertDefined(t)))}:8==e?function(t){return s(a(t))}:r(41).get;try{s("z")}catch(l){u=1}i(i.S+i.F*u,"Object",c)})},function(t,e,r){function n(t){try{return a(t)}catch(e){return s.slice()}}var i=r(6),o={}.toString,a=i.getNames,s="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.get=function(t){return s&&"[object Window]"==o.call(t)?n(t):a(i.toObject(t))}},function(t,e,r){"use strict";var n=r(3)["default"],i=r(8)["default"];Object.defineProperty(e,"__esModule",{value:!0});var o=r(43),a=function(){function t(){var e=void 0===arguments[0]?{updateNormals:!0}:arguments[0];if(i(this,t),this.constructor==t)throw new TypeError("Body can't be instantiated directly.");this._dirty=!0,this._updateNormals=e.updateNormals,this._at=o.vec3.clone([0,0,1]),this._position=o.vec3.create(),this._scale=o.vec3.clone([1,1,1]),this._rotation=o.quat.create(),this._modelMatrix=o.mat4.create(),this._normalMatrix=o.mat4.create()}return n(t,[{key:"rotate",value:function(t,e){o.quat.setAxisAngle(this._rotation,t,e),o.vec3.transformQuat(this._at,this._at,this._rotation),this._dirty=!0}},{key:"incrementPosition",value:function(t){var e=void 0===arguments[1]?0:arguments[1],r=void 0===arguments[2]?0:arguments[2];this._position[0]+=t,this._position[1]+=e,this._position[2]+=r,this._dirty=!0}},{key:"_updateModelMatrix",value:function(){o.mat4.fromQuat(this._modelMatrix,this._rotation),o.mat4.translate(this._modelMatrix,this._modelMatrix,this._position),o.mat4.scale(this._modelMatrix,this._modelMatrix,this._scale),this._updateNormals&&(o.mat4.invert(this._normalMatrix,this._modelMatrix),o.mat4.transpose(this._normalMatrix,this._normalMatrix))}},{key:"position",get:function(){return this._position},set:function(t){this._position=t,this._dirty=!0}},{key:"at",get:function(){return this._at},set:function(t){o.quat.rotationTo(this._rotation,this._at,t),this._dirty=!0}},{key:"scale",get:function(){return this._scale},set:function(t){this._scale=t,this._dirty=!0}},{key:"modelMatrix",get:function(){return this._dirty&&(this._updateModelMatrix(),this._dirty=!1),this._modelMatrix}},{key:"normalMatrix",get:function(){return this._dirty&&(this._updateModelMatrix(),this._dirty=!1),this._normalMatrix}},{key:"rotation",set:function(t){this._rotation=t,o.vec3.transformQuat(this._at,this._at,this._rotation),this._dirty=!0}}]),t}();e["default"]=a,t.exports=e["default"]},function(t,e,r){e.glMatrix=r(44),e.mat2=r(45),e.mat2d=r(46),e.mat3=r(47),e.mat4=r(48),e.quat=r(49),e.vec2=r(52),e.vec3=r(50),e.vec4=r(51)},function(t,e){var r={};r.EPSILON=1e-6,r.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,r.RANDOM=Math.random,r.setMatrixArrayType=function(t){GLMAT_ARRAY_TYPE=t};var n=Math.PI/180;r.toRadian=function(t){return t*n},t.exports=r},function(t,e,r){var n=r(44),i={};i.create=function(){var t=new n.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},i.clone=function(t){var e=new n.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},i.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},i.transpose=function(t,e){if(t===e){var r=e[1];t[1]=e[2],t[2]=r}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},i.invert=function(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=r*o-i*n;return a?(a=1/a,t[0]=o*a,t[1]=-n*a,t[2]=-i*a,t[3]=r*a,t):null},i.adjoint=function(t,e){var r=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=r,t},i.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},i.multiply=function(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=r[0],u=r[1],c=r[2],l=r[3];return t[0]=n*s+o*u,t[1]=i*s+a*u,t[2]=n*c+o*l,t[3]=i*c+a*l,t},i.mul=i.multiply,i.rotate=function(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(r),u=Math.cos(r);return t[0]=n*u+o*s,t[1]=i*u+a*s,t[2]=n*-s+o*u,t[3]=i*-s+a*u,t},i.scale=function(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=r[0],u=r[1];return t[0]=n*s,t[1]=i*s,t[2]=o*u,t[3]=a*u,t},i.fromRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t},i.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t},i.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},i.LDU=function(t,e,r,n){return t[2]=n[2]/n[0],r[0]=n[0],r[1]=n[1],r[3]=n[3]-t[2]*r[1],[t,e,r]},t.exports=i},function(t,e,r){var n=r(44),i={};i.create=function(){var t=new n.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},i.clone=function(t){var e=new n.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},i.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},i.invert=function(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=r*o-n*i;return u?(u=1/u,t[0]=o*u,t[1]=-n*u,t[2]=-i*u,t[3]=r*u,t[4]=(i*s-o*a)*u,t[5]=(n*a-r*s)*u,t):null},i.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},i.multiply=function(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=r[0],l=r[1],f=r[2],h=r[3],d=r[4],_=r[5];return t[0]=n*c+o*l,t[1]=i*c+a*l,t[2]=n*f+o*h,t[3]=i*f+a*h,t[4]=n*d+o*_+s,t[5]=i*d+a*_+u,t},i.mul=i.multiply,i.rotate=function(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=Math.sin(r),l=Math.cos(r);return t[0]=n*l+o*c,t[1]=i*l+a*c,t[2]=n*-c+o*l,t[3]=i*-c+a*l,t[4]=s,t[5]=u,t},i.scale=function(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=r[0],l=r[1];return t[0]=n*c,t[1]=i*c,t[2]=o*l,t[3]=a*l,t[4]=s,t[5]=u,t},i.translate=function(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=r[0],l=r[1];return t[0]=n,t[1]=i,t[2]=o,t[3]=a,t[4]=n*c+o*l+s,t[5]=i*c+a*l+u,t},i.fromRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t[4]=0,t[5]=0,t},i.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t},i.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t},i.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},t.exports=i},function(t,e,r){var n=r(44),i={};i.create=function(){var t=new n.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},i.clone=function(t){var e=new n.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},i.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.transpose=function(t,e){if(t===e){var r=e[1],n=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=n,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},i.invert=function(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],f=l*a-s*c,h=-l*o+s*u,d=c*o-a*u,_=r*f+n*h+i*d;return _?(_=1/_,t[0]=f*_,t[1]=(-l*n+i*c)*_,t[2]=(s*n-i*a)*_,t[3]=h*_,t[4]=(l*r-i*u)*_,t[5]=(-s*r+i*o)*_,t[6]=d*_,t[7]=(-c*r+n*u)*_,t[8]=(a*r-n*o)*_,t):null},i.adjoint=function(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8];return t[0]=a*l-s*c,t[1]=i*c-n*l,t[2]=n*s-i*a,t[3]=s*u-o*l,t[4]=r*l-i*u,t[5]=i*o-r*s,t[6]=o*c-a*u,t[7]=n*u-r*c,t[8]=r*a-n*o,t},i.determinant=function(t){var e=t[0],r=t[1],n=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],c=t[8];return e*(c*o-a*u)+r*(-c*i+a*s)+n*(u*i-o*s)},i.multiply=function(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],h=r[0],d=r[1],_=r[2],v=r[3],p=r[4],m=r[5],g=r[6],y=r[7],M=r[8];return t[0]=h*n+d*a+_*c,t[1]=h*i+d*s+_*l,t[2]=h*o+d*u+_*f,t[3]=v*n+p*a+m*c,t[4]=v*i+p*s+m*l,t[5]=v*o+p*u+m*f,t[6]=g*n+y*a+M*c,t[7]=g*i+y*s+M*l,t[8]=g*o+y*u+M*f,t},i.mul=i.multiply,i.translate=function(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],h=r[0],d=r[1];return t[0]=n,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=h*n+d*a+c,t[7]=h*i+d*s+l,t[8]=h*o+d*u+f,t},i.rotate=function(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],h=Math.sin(r),d=Math.cos(r);return t[0]=d*n+h*a,t[1]=d*i+h*s,t[2]=d*o+h*u,t[3]=d*a-h*n,t[4]=d*s-h*i,t[5]=d*u-h*o,t[6]=c,t[7]=l,t[8]=f,t},i.scale=function(t,e,r){var n=r[0],i=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},i.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},i.fromRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=-r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},i.fromQuat=function(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=r+r,s=n+n,u=i+i,c=r*a,l=n*a,f=n*s,h=i*a,d=i*s,_=i*u,v=o*a,p=o*s,m=o*u;return t[0]=1-f-_,t[3]=l-m,t[6]=h+p,t[1]=l+m,t[4]=1-c-_,t[7]=d-v,t[2]=h-p,t[5]=d+v,t[8]=1-c-f,t},i.normalFromMat4=function(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],f=e[9],h=e[10],d=e[11],_=e[12],v=e[13],p=e[14],m=e[15],g=r*s-n*a,y=r*u-i*a,M=r*c-o*a,w=n*u-i*s,b=n*c-o*s,x=i*c-o*u,P=l*v-f*_,A=l*p-h*_,k=l*m-d*_,S=f*p-h*v,R=f*m-d*v,E=h*m-d*p,j=g*E-y*R+M*S+w*k-b*A+x*P;return j?(j=1/j,t[0]=(s*E-u*R+c*S)*j,t[1]=(u*k-a*E-c*A)*j,t[2]=(a*R-s*k+c*P)*j,t[3]=(i*R-n*E-o*S)*j,t[4]=(r*E-i*k+o*A)*j,t[5]=(n*k-r*R-o*P)*j,t[6]=(v*x-p*b+m*w)*j,t[7]=(p*M-_*x-m*y)*j,t[8]=(_*b-v*M+m*g)*j,t):null},i.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},t.exports=i},function(t,e,r){var n=r(44),i={};i.create=function(){var t=new n.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.clone=function(t){var e=new n.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},i.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.transpose=function(t,e){if(t===e){var r=e[1],n=e[2],i=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},i.invert=function(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],f=e[9],h=e[10],d=e[11],_=e[12],v=e[13],p=e[14],m=e[15],g=r*s-n*a,y=r*u-i*a,M=r*c-o*a,w=n*u-i*s,b=n*c-o*s,x=i*c-o*u,P=l*v-f*_,A=l*p-h*_,k=l*m-d*_,S=f*p-h*v,R=f*m-d*v,E=h*m-d*p,j=g*E-y*R+M*S+w*k-b*A+x*P;return j?(j=1/j,t[0]=(s*E-u*R+c*S)*j,t[1]=(i*R-n*E-o*S)*j,t[2]=(v*x-p*b+m*w)*j,t[3]=(h*b-f*x-d*w)*j,t[4]=(u*k-a*E-c*A)*j,t[5]=(r*E-i*k+o*A)*j,t[6]=(p*M-_*x-m*y)*j,t[7]=(l*x-h*M+d*y)*j,t[8]=(a*R-s*k+c*P)*j,t[9]=(n*k-r*R-o*P)*j,t[10]=(_*b-v*M+m*g)*j,t[11]=(f*M-l*b-d*g)*j,t[12]=(s*A-a*S-u*P)*j,t[13]=(r*S-n*A+i*P)*j,t[14]=(v*y-_*w-p*g)*j,t[15]=(l*w-f*y+h*g)*j,t):null},i.adjoint=function(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],f=e[9],h=e[10],d=e[11],_=e[12],v=e[13],p=e[14],m=e[15];return t[0]=s*(h*m-d*p)-f*(u*m-c*p)+v*(u*d-c*h),t[1]=-(n*(h*m-d*p)-f*(i*m-o*p)+v*(i*d-o*h)),t[2]=n*(u*m-c*p)-s*(i*m-o*p)+v*(i*c-o*u),t[3]=-(n*(u*d-c*h)-s*(i*d-o*h)+f*(i*c-o*u)),t[4]=-(a*(h*m-d*p)-l*(u*m-c*p)+_*(u*d-c*h)),t[5]=r*(h*m-d*p)-l*(i*m-o*p)+_*(i*d-o*h),t[6]=-(r*(u*m-c*p)-a*(i*m-o*p)+_*(i*c-o*u)),t[7]=r*(u*d-c*h)-a*(i*d-o*h)+l*(i*c-o*u),t[8]=a*(f*m-d*v)-l*(s*m-c*v)+_*(s*d-c*f),t[9]=-(r*(f*m-d*v)-l*(n*m-o*v)+_*(n*d-o*f)),t[10]=r*(s*m-c*v)-a*(n*m-o*v)+_*(n*c-o*s),t[11]=-(r*(s*d-c*f)-a*(n*d-o*f)+l*(n*c-o*s)),t[12]=-(a*(f*p-h*v)-l*(s*p-u*v)+_*(s*h-u*f)),t[13]=r*(f*p-h*v)-l*(n*p-i*v)+_*(n*h-i*f),t[14]=-(r*(s*p-u*v)-a*(n*p-i*v)+_*(n*u-i*s)),t[15]=r*(s*h-u*f)-a*(n*h-i*f)+l*(n*u-i*s),t},i.determinant=function(t){var e=t[0],r=t[1],n=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],c=t[8],l=t[9],f=t[10],h=t[11],d=t[12],_=t[13],v=t[14],p=t[15],m=e*a-r*o,g=e*s-n*o,y=e*u-i*o,M=r*s-n*a,w=r*u-i*a,b=n*u-i*s,x=c*_-l*d,P=c*v-f*d,A=c*p-h*d,k=l*v-f*_,S=l*p-h*_,R=f*p-h*v;return m*R-g*S+y*k+M*A-w*P+b*x},i.multiply=function(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],h=e[9],d=e[10],_=e[11],v=e[12],p=e[13],m=e[14],g=e[15],y=r[0],M=r[1],w=r[2],b=r[3];return t[0]=y*n+M*s+w*f+b*v,t[1]=y*i+M*u+w*h+b*p,t[2]=y*o+M*c+w*d+b*m,t[3]=y*a+M*l+w*_+b*g,y=r[4],M=r[5],w=r[6],b=r[7],t[4]=y*n+M*s+w*f+b*v,t[5]=y*i+M*u+w*h+b*p,t[6]=y*o+M*c+w*d+b*m,t[7]=y*a+M*l+w*_+b*g,y=r[8],M=r[9],w=r[10],b=r[11],t[8]=y*n+M*s+w*f+b*v,t[9]=y*i+M*u+w*h+b*p,t[10]=y*o+M*c+w*d+b*m,t[11]=y*a+M*l+w*_+b*g,y=r[12],M=r[13],w=r[14],b=r[15],t[12]=y*n+M*s+w*f+b*v,t[13]=y*i+M*u+w*h+b*p,t[14]=y*o+M*c+w*d+b*m,t[15]=y*a+M*l+w*_+b*g,t},i.mul=i.multiply,i.translate=function(t,e,r){var n,i,o,a,s,u,c,l,f,h,d,_,v=r[0],p=r[1],m=r[2];return e===t?(t[12]=e[0]*v+e[4]*p+e[8]*m+e[12],t[13]=e[1]*v+e[5]*p+e[9]*m+e[13],t[14]=e[2]*v+e[6]*p+e[10]*m+e[14],t[15]=e[3]*v+e[7]*p+e[11]*m+e[15]):(n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],h=e[9],d=e[10],_=e[11],t[0]=n,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=c,t[7]=l,t[8]=f,t[9]=h,t[10]=d,t[11]=_,t[12]=n*v+s*p+f*m+e[12],t[13]=i*v+u*p+h*m+e[13],t[14]=o*v+c*p+d*m+e[14],t[15]=a*v+l*p+_*m+e[15]),t},i.scale=function(t,e,r){var n=r[0],i=r[1],o=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},i.rotate=function(t,e,r,i){var o,a,s,u,c,l,f,h,d,_,v,p,m,g,y,M,w,b,x,P,A,k,S,R,E=i[0],j=i[1],O=i[2],C=Math.sqrt(E*E+j*j+O*O);return Math.abs(C)<n.EPSILON?null:(C=1/C,E*=C,j*=C,O*=C,o=Math.sin(r),a=Math.cos(r),s=1-a,u=e[0],c=e[1],l=e[2],f=e[3],h=e[4],d=e[5],_=e[6],v=e[7],p=e[8],m=e[9],g=e[10],y=e[11],M=E*E*s+a,w=j*E*s+O*o,b=O*E*s-j*o,x=E*j*s-O*o,P=j*j*s+a,A=O*j*s+E*o,k=E*O*s+j*o,S=j*O*s-E*o,R=O*O*s+a,t[0]=u*M+h*w+p*b,t[1]=c*M+d*w+m*b,t[2]=l*M+_*w+g*b,t[3]=f*M+v*w+y*b,t[4]=u*x+h*P+p*A,t[5]=c*x+d*P+m*A,t[6]=l*x+_*P+g*A,t[7]=f*x+v*P+y*A,t[8]=u*k+h*S+p*R,t[9]=c*k+d*S+m*R,t[10]=l*k+_*S+g*R,t[11]=f*k+v*S+y*R,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},i.rotateX=function(t,e,r){var n=Math.sin(r),i=Math.cos(r),o=e[4],a=e[5],s=e[6],u=e[7],c=e[8],l=e[9],f=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+c*n,t[5]=a*i+l*n,t[6]=s*i+f*n,t[7]=u*i+h*n,t[8]=c*i-o*n,t[9]=l*i-a*n,t[10]=f*i-s*n,t[11]=h*i-u*n,t},i.rotateY=function(t,e,r){var n=Math.sin(r),i=Math.cos(r),o=e[0],a=e[1],s=e[2],u=e[3],c=e[8],l=e[9],f=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-c*n,t[1]=a*i-l*n,t[2]=s*i-f*n,t[3]=u*i-h*n,t[8]=o*n+c*i,t[9]=a*n+l*i,t[10]=s*n+f*i,t[11]=u*n+h*i,t},i.rotateZ=function(t,e,r){var n=Math.sin(r),i=Math.cos(r),o=e[0],a=e[1],s=e[2],u=e[3],c=e[4],l=e[5],f=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+c*n,t[1]=a*i+l*n,t[2]=s*i+f*n,t[3]=u*i+h*n,t[4]=c*i-o*n,t[5]=l*i-a*n,t[6]=f*i-s*n,t[7]=h*i-u*n,t},i.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},i.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromRotation=function(t,e,r){var i,o,a,s=r[0],u=r[1],c=r[2],l=Math.sqrt(s*s+u*u+c*c);return Math.abs(l)<n.EPSILON?null:(l=1/l,s*=l,u*=l,c*=l,i=Math.sin(e),o=Math.cos(e),a=1-o,t[0]=s*s*a+o,t[1]=u*s*a+c*i,t[2]=c*s*a-u*i,t[3]=0,t[4]=s*u*a-c*i,t[5]=u*u*a+o,t[6]=c*u*a+s*i,t[7]=0,t[8]=s*c*a+u*i,t[9]=u*c*a-s*i,t[10]=c*c*a+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},i.fromXRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromYRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromZRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromRotationTranslation=function(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=n+n,u=i+i,c=o+o,l=n*s,f=n*u,h=n*c,d=i*u,_=i*c,v=o*c,p=a*s,m=a*u,g=a*c;return t[0]=1-(d+v),t[1]=f+g,t[2]=h-m,t[3]=0,t[4]=f-g,t[5]=1-(l+v),t[6]=_+p,t[7]=0,t[8]=h+m,t[9]=_-p,t[10]=1-(l+d),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t},i.fromRotationTranslationScale=function(t,e,r,n){var i=e[0],o=e[1],a=e[2],s=e[3],u=i+i,c=o+o,l=a+a,f=i*u,h=i*c,d=i*l,_=o*c,v=o*l,p=a*l,m=s*u,g=s*c,y=s*l,M=n[0],w=n[1],b=n[2];return t[0]=(1-(_+p))*M,
t[1]=(h+y)*M,t[2]=(d-g)*M,t[3]=0,t[4]=(h-y)*w,t[5]=(1-(f+p))*w,t[6]=(v+m)*w,t[7]=0,t[8]=(d+g)*b,t[9]=(v-m)*b,t[10]=(1-(f+_))*b,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t},i.fromRotationTranslationScaleOrigin=function(t,e,r,n,i){var o=e[0],a=e[1],s=e[2],u=e[3],c=o+o,l=a+a,f=s+s,h=o*c,d=o*l,_=o*f,v=a*l,p=a*f,m=s*f,g=u*c,y=u*l,M=u*f,w=n[0],b=n[1],x=n[2],P=i[0],A=i[1],k=i[2];return t[0]=(1-(v+m))*w,t[1]=(d+M)*w,t[2]=(_-y)*w,t[3]=0,t[4]=(d-M)*b,t[5]=(1-(h+m))*b,t[6]=(p+g)*b,t[7]=0,t[8]=(_+y)*x,t[9]=(p-g)*x,t[10]=(1-(h+v))*x,t[11]=0,t[12]=r[0]+P-(t[0]*P+t[4]*A+t[8]*k),t[13]=r[1]+A-(t[1]*P+t[5]*A+t[9]*k),t[14]=r[2]+k-(t[2]*P+t[6]*A+t[10]*k),t[15]=1,t},i.fromQuat=function(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=r+r,s=n+n,u=i+i,c=r*a,l=n*a,f=n*s,h=i*a,d=i*s,_=i*u,v=o*a,p=o*s,m=o*u;return t[0]=1-f-_,t[1]=l+m,t[2]=h-p,t[3]=0,t[4]=l-m,t[5]=1-c-_,t[6]=d+v,t[7]=0,t[8]=h+p,t[9]=d-v,t[10]=1-c-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.frustum=function(t,e,r,n,i,o,a){var s=1/(r-e),u=1/(i-n),c=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*u,t[6]=0,t[7]=0,t[8]=(r+e)*s,t[9]=(i+n)*u,t[10]=(a+o)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*c,t[15]=0,t},i.perspective=function(t,e,r,n,i){var o=1/Math.tan(e/2),a=1/(n-i);return t[0]=o/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+n)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*n*a,t[15]=0,t},i.perspectiveFromFieldOfView=function(t,e,r,n){var i=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(a+s),c=2/(i+o);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-((a-s)*u*.5),t[9]=(i-o)*c*.5,t[10]=n/(r-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*r/(r-n),t[15]=0,t},i.ortho=function(t,e,r,n,i,o,a){var s=1/(e-r),u=1/(n-i),c=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+r)*s,t[13]=(i+n)*u,t[14]=(a+o)*c,t[15]=1,t},i.lookAt=function(t,e,r,o){var a,s,u,c,l,f,h,d,_,v,p=e[0],m=e[1],g=e[2],y=o[0],M=o[1],w=o[2],b=r[0],x=r[1],P=r[2];return Math.abs(p-b)<n.EPSILON&&Math.abs(m-x)<n.EPSILON&&Math.abs(g-P)<n.EPSILON?i.identity(t):(h=p-b,d=m-x,_=g-P,v=1/Math.sqrt(h*h+d*d+_*_),h*=v,d*=v,_*=v,a=M*_-w*d,s=w*h-y*_,u=y*d-M*h,v=Math.sqrt(a*a+s*s+u*u),v?(v=1/v,a*=v,s*=v,u*=v):(a=0,s=0,u=0),c=d*u-_*s,l=_*a-h*u,f=h*s-d*a,v=Math.sqrt(c*c+l*l+f*f),v?(v=1/v,c*=v,l*=v,f*=v):(c=0,l=0,f=0),t[0]=a,t[1]=c,t[2]=h,t[3]=0,t[4]=s,t[5]=l,t[6]=d,t[7]=0,t[8]=u,t[9]=f,t[10]=_,t[11]=0,t[12]=-(a*p+s*m+u*g),t[13]=-(c*p+l*m+f*g),t[14]=-(h*p+d*m+_*g),t[15]=1,t)},i.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},t.exports=i},function(t,e,r){var n=r(44),i=r(47),o=r(50),a=r(51),s={};s.create=function(){var t=new n.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},s.rotationTo=function(){var t=o.create(),e=o.fromValues(1,0,0),r=o.fromValues(0,1,0);return function(n,i,a){var u=o.dot(i,a);return-.999999>u?(o.cross(t,e,i),o.length(t)<1e-6&&o.cross(t,r,i),o.normalize(t,t),s.setAxisAngle(n,t,Math.PI),n):u>.999999?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(o.cross(t,i,a),n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=1+u,s.normalize(n,n))}}(),s.setAxes=function(){var t=i.create();return function(e,r,n,i){return t[0]=n[0],t[3]=n[1],t[6]=n[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-r[0],t[5]=-r[1],t[8]=-r[2],s.normalize(e,s.fromMat3(e,t))}}(),s.clone=a.clone,s.fromValues=a.fromValues,s.copy=a.copy,s.set=a.set,s.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},s.setAxisAngle=function(t,e,r){r=.5*r;var n=Math.sin(r);return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(r),t},s.add=a.add,s.multiply=function(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=r[0],u=r[1],c=r[2],l=r[3];return t[0]=n*l+a*s+i*c-o*u,t[1]=i*l+a*u+o*s-n*c,t[2]=o*l+a*c+n*u-i*s,t[3]=a*l-n*s-i*u-o*c,t},s.mul=s.multiply,s.scale=a.scale,s.rotateX=function(t,e,r){r*=.5;var n=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(r),u=Math.cos(r);return t[0]=n*u+a*s,t[1]=i*u+o*s,t[2]=o*u-i*s,t[3]=a*u-n*s,t},s.rotateY=function(t,e,r){r*=.5;var n=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(r),u=Math.cos(r);return t[0]=n*u-o*s,t[1]=i*u+a*s,t[2]=o*u+n*s,t[3]=a*u-i*s,t},s.rotateZ=function(t,e,r){r*=.5;var n=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(r),u=Math.cos(r);return t[0]=n*u+i*s,t[1]=i*u-n*s,t[2]=o*u+a*s,t[3]=a*u-o*s,t},s.calculateW=function(t,e){var r=e[0],n=e[1],i=e[2];return t[0]=r,t[1]=n,t[2]=i,t[3]=Math.sqrt(Math.abs(1-r*r-n*n-i*i)),t},s.dot=a.dot,s.lerp=a.lerp,s.slerp=function(t,e,r,n){var i,o,a,s,u,c=e[0],l=e[1],f=e[2],h=e[3],d=r[0],_=r[1],v=r[2],p=r[3];return o=c*d+l*_+f*v+h*p,0>o&&(o=-o,d=-d,_=-_,v=-v,p=-p),1-o>1e-6?(i=Math.acos(o),a=Math.sin(i),s=Math.sin((1-n)*i)/a,u=Math.sin(n*i)/a):(s=1-n,u=n),t[0]=s*c+u*d,t[1]=s*l+u*_,t[2]=s*f+u*v,t[3]=s*h+u*p,t},s.sqlerp=function(){var t=s.create(),e=s.create();return function(r,n,i,o,a,u){return s.slerp(t,n,a,u),s.slerp(e,i,o,u),s.slerp(r,t,e,2*u*(1-u)),r}}(),s.invert=function(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=r*r+n*n+i*i+o*o,s=a?1/a:0;return t[0]=-r*s,t[1]=-n*s,t[2]=-i*s,t[3]=o*s,t},s.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},s.length=a.length,s.len=s.length,s.squaredLength=a.squaredLength,s.sqrLen=s.squaredLength,s.normalize=a.normalize,s.fromMat3=function(t,e){var r,n=e[0]+e[4]+e[8];if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;r=Math.sqrt(e[3*i+i]-e[3*o+o]-e[3*a+a]+1),t[i]=.5*r,r=.5/r,t[3]=(e[3*o+a]-e[3*a+o])*r,t[o]=(e[3*o+i]+e[3*i+o])*r,t[a]=(e[3*a+i]+e[3*i+a])*r}return t},s.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},t.exports=s},function(t,e,r){var n=r(44),i={};i.create=function(){var t=new n.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t},i.clone=function(t){var e=new n.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},i.fromValues=function(t,e,r){var i=new n.ARRAY_TYPE(3);return i[0]=t,i[1]=e,i[2]=r,i},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},i.set=function(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t},i.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t},i.subtract=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t},i.sub=i.subtract,i.multiply=function(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t},i.mul=i.multiply,i.divide=function(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t},i.div=i.divide,i.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t},i.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t},i.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t},i.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t},i.distance=function(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(r*r+n*n+i*i)},i.dist=i.distance,i.squaredDistance=function(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return r*r+n*n+i*i},i.sqrDist=i.squaredDistance,i.length=function(t){var e=t[0],r=t[1],n=t[2];return Math.sqrt(e*e+r*r+n*n)},i.len=i.length,i.squaredLength=function(t){var e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n},i.sqrLen=i.squaredLength,i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},i.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},i.normalize=function(t,e){var r=e[0],n=e[1],i=e[2],o=r*r+n*n+i*i;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},i.cross=function(t,e,r){var n=e[0],i=e[1],o=e[2],a=r[0],s=r[1],u=r[2];return t[0]=i*u-o*s,t[1]=o*a-n*u,t[2]=n*s-i*a,t},i.lerp=function(t,e,r,n){var i=e[0],o=e[1],a=e[2];return t[0]=i+n*(r[0]-i),t[1]=o+n*(r[1]-o),t[2]=a+n*(r[2]-a),t},i.hermite=function(t,e,r,n,i,o){var a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,c=a*(o-1),l=a*(3-2*o);return t[0]=e[0]*s+r[0]*u+n[0]*c+i[0]*l,t[1]=e[1]*s+r[1]*u+n[1]*c+i[1]*l,t[2]=e[2]*s+r[2]*u+n[2]*c+i[2]*l,t},i.bezier=function(t,e,r,n,i,o){var a=1-o,s=a*a,u=o*o,c=s*a,l=3*o*s,f=3*u*a,h=u*o;return t[0]=e[0]*c+r[0]*l+n[0]*f+i[0]*h,t[1]=e[1]*c+r[1]*l+n[1]*f+i[1]*h,t[2]=e[2]*c+r[2]*l+n[2]*f+i[2]*h,t},i.random=function(t,e){e=e||1;var r=2*n.RANDOM()*Math.PI,i=2*n.RANDOM()-1,o=Math.sqrt(1-i*i)*e;return t[0]=Math.cos(r)*o,t[1]=Math.sin(r)*o,t[2]=i*e,t},i.transformMat4=function(t,e,r){var n=e[0],i=e[1],o=e[2],a=r[3]*n+r[7]*i+r[11]*o+r[15];return a=a||1,t[0]=(r[0]*n+r[4]*i+r[8]*o+r[12])/a,t[1]=(r[1]*n+r[5]*i+r[9]*o+r[13])/a,t[2]=(r[2]*n+r[6]*i+r[10]*o+r[14])/a,t},i.transformMat3=function(t,e,r){var n=e[0],i=e[1],o=e[2];return t[0]=n*r[0]+i*r[3]+o*r[6],t[1]=n*r[1]+i*r[4]+o*r[7],t[2]=n*r[2]+i*r[5]+o*r[8],t},i.transformQuat=function(t,e,r){var n=e[0],i=e[1],o=e[2],a=r[0],s=r[1],u=r[2],c=r[3],l=c*n+s*o-u*i,f=c*i+u*n-a*o,h=c*o+a*i-s*n,d=-a*n-s*i-u*o;return t[0]=l*c+d*-a+f*-u-h*-s,t[1]=f*c+d*-s+h*-a-l*-u,t[2]=h*c+d*-u+l*-s-f*-a,t},i.rotateX=function(t,e,r,n){var i=[],o=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],o[0]=i[0],o[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),o[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t},i.rotateY=function(t,e,r,n){var i=[],o=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],o[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),o[1]=i[1],o[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t},i.rotateZ=function(t,e,r,n){var i=[],o=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],o[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),o[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),o[2]=i[2],t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t},i.forEach=function(){var t=i.create();return function(e,r,n,i,o,a){var s,u;for(r||(r=3),n||(n=0),u=i?Math.min(i*r+n,e.length):e.length,s=n;u>s;s+=r)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}(),i.angle=function(t,e){var r=i.fromValues(t[0],t[1],t[2]),n=i.fromValues(e[0],e[1],e[2]);i.normalize(r,r),i.normalize(n,n);var o=i.dot(r,n);return o>1?0:Math.acos(o)},i.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},t.exports=i},function(t,e,r){var n=r(44),i={};i.create=function(){var t=new n.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},i.clone=function(t){var e=new n.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},i.fromValues=function(t,e,r,i){var o=new n.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=r,o[3]=i,o},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},i.set=function(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t},i.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t},i.subtract=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t},i.sub=i.subtract,i.multiply=function(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t[3]=e[3]*r[3],t},i.mul=i.multiply,i.divide=function(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t[3]=e[3]/r[3],t},i.div=i.divide,i.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t[3]=Math.min(e[3],r[3]),t},i.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t[3]=Math.max(e[3],r[3]),t},i.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t},i.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t},i.distance=function(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return Math.sqrt(r*r+n*n+i*i+o*o)},i.dist=i.distance,i.squaredDistance=function(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return r*r+n*n+i*i+o*o},i.sqrDist=i.squaredDistance,i.length=function(t){var e=t[0],r=t[1],n=t[2],i=t[3];return Math.sqrt(e*e+r*r+n*n+i*i)},i.len=i.length,i.squaredLength=function(t){var e=t[0],r=t[1],n=t[2],i=t[3];return e*e+r*r+n*n+i*i},i.sqrLen=i.squaredLength,i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},i.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},i.normalize=function(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=r*r+n*n+i*i+o*o;return a>0&&(a=1/Math.sqrt(a),t[0]=r*a,t[1]=n*a,t[2]=i*a,t[3]=o*a),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},i.lerp=function(t,e,r,n){var i=e[0],o=e[1],a=e[2],s=e[3];return t[0]=i+n*(r[0]-i),t[1]=o+n*(r[1]-o),t[2]=a+n*(r[2]-a),t[3]=s+n*(r[3]-s),t},i.random=function(t,e){return e=e||1,t[0]=n.RANDOM(),t[1]=n.RANDOM(),t[2]=n.RANDOM(),t[3]=n.RANDOM(),i.normalize(t,t),i.scale(t,t,e),t},i.transformMat4=function(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3];return t[0]=r[0]*n+r[4]*i+r[8]*o+r[12]*a,t[1]=r[1]*n+r[5]*i+r[9]*o+r[13]*a,t[2]=r[2]*n+r[6]*i+r[10]*o+r[14]*a,t[3]=r[3]*n+r[7]*i+r[11]*o+r[15]*a,t},i.transformQuat=function(t,e,r){var n=e[0],i=e[1],o=e[2],a=r[0],s=r[1],u=r[2],c=r[3],l=c*n+s*o-u*i,f=c*i+u*n-a*o,h=c*o+a*i-s*n,d=-a*n-s*i-u*o;return t[0]=l*c+d*-a+f*-u-h*-s,t[1]=f*c+d*-s+h*-a-l*-u,t[2]=h*c+d*-u+l*-s-f*-a,t[3]=e[3],t},i.forEach=function(){var t=i.create();return function(e,r,n,i,o,a){var s,u;for(r||(r=4),n||(n=0),u=i?Math.min(i*r+n,e.length):e.length,s=n;u>s;s+=r)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}(),i.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},t.exports=i},function(t,e,r){var n=r(44),i={};i.create=function(){var t=new n.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},i.clone=function(t){var e=new n.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},i.fromValues=function(t,e){var r=new n.ARRAY_TYPE(2);return r[0]=t,r[1]=e,r},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},i.set=function(t,e,r){return t[0]=e,t[1]=r,t},i.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t},i.subtract=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t},i.sub=i.subtract,i.multiply=function(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t},i.mul=i.multiply,i.divide=function(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t},i.div=i.divide,i.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t},i.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t},i.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t},i.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t},i.distance=function(t,e){var r=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(r*r+n*n)},i.dist=i.distance,i.squaredDistance=function(t,e){var r=e[0]-t[0],n=e[1]-t[1];return r*r+n*n},i.sqrDist=i.squaredDistance,i.length=function(t){var e=t[0],r=t[1];return Math.sqrt(e*e+r*r)},i.len=i.length,i.squaredLength=function(t){var e=t[0],r=t[1];return e*e+r*r},i.sqrLen=i.squaredLength,i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},i.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},i.normalize=function(t,e){var r=e[0],n=e[1],i=r*r+n*n;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},i.cross=function(t,e,r){var n=e[0]*r[1]-e[1]*r[0];return t[0]=t[1]=0,t[2]=n,t},i.lerp=function(t,e,r,n){var i=e[0],o=e[1];return t[0]=i+n*(r[0]-i),t[1]=o+n*(r[1]-o),t},i.random=function(t,e){e=e||1;var r=2*n.RANDOM()*Math.PI;return t[0]=Math.cos(r)*e,t[1]=Math.sin(r)*e,t},i.transformMat2=function(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i,t[1]=r[1]*n+r[3]*i,t},i.transformMat2d=function(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i+r[4],t[1]=r[1]*n+r[3]*i+r[5],t},i.transformMat3=function(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[3]*i+r[6],t[1]=r[1]*n+r[4]*i+r[7],t},i.transformMat4=function(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[4]*i+r[12],t[1]=r[1]*n+r[5]*i+r[13],t},i.forEach=function(){var t=i.create();return function(e,r,n,i,o,a){var s,u;for(r||(r=2),n||(n=0),u=i?Math.min(i*r+n,e.length):e.length,s=n;u>s;s+=r)t[0]=e[s],t[1]=e[s+1],o(t,t,a),e[s]=t[0],e[s+1]=t[1];return e}}(),i.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},t.exports=i},function(t,e,r){"use strict";var n=r(34)["default"],i=r(37)["default"],o=r(8)["default"],a=r(1)["default"];Object.defineProperty(e,"__esModule",{value:!0});var s=r(54),u=a(s),c=function(t){function e(t,r){var n=void 0===arguments[2]?3:arguments[2];if(o(this,e),i(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this._buffer=t.createBuffer(),this._target=t.ARRAY_BUFFER,!this._buffer)throw new Error("VertexBuffer: Error while creating buffer");t.bindBuffer(this._target,this._buffer),t.bufferData(this._target,r,t.STATIC_DRAW),this.count=r.length/n,this.componentCount=n}return n(e,t),e}(u["default"]);e["default"]=c,t.exports=e["default"]},function(t,e,r){"use strict";var n=r(3)["default"],i=r(8)["default"];Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(e){i(this,t),this._gl=e,this._target=void 0}return n(t,[{key:"destruct",value:function(){this._gl.deleteBuffer(this._buffer)}},{key:"bind",value:function(){this._gl.bindBuffer(this._target,this._buffer)}},{key:"unbind",value:function(){this._gl.bindBuffer(this._target,null)}}]),t}();e["default"]=o,t.exports=e["default"]},function(t,e,r){"use strict";var n=r(34)["default"],i=r(37)["default"],o=r(8)["default"],a=r(1)["default"];Object.defineProperty(e,"__esModule",{value:!0});var s=r(54),u=a(s),c=function(t){function e(t,r){if(o(this,e),i(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this._target=t.ELEMENT_ARRAY_BUFFER,this._buffer=t.createBuffer(),!this._buffer)throw new Error("IndexBuffer: Error while creating buffer");t.bindBuffer(this._target,this._buffer),t.bufferData(this._target,r,t.STATIC_DRAW),this.count=r.length}return n(e,t),e}(u["default"]);e["default"]=c,t.exports=e["default"]},,function(t,e,r){"use strict";var n=r(3)["default"],i=r(8)["default"],o=r(1)["default"];Object.defineProperty(e,"__esModule",{value:!0});var a=r(58),s=o(a),u=function(){function t(e){var r=void 0===arguments[1]?[1,1,1]:arguments[1],n=void 0===arguments[2]?1:arguments[2];i(this,t),this.shader=new s["default"](e,r,n),this.pointSize=n,this.componentCount=6}return n(t,[{key:"prepare",value:function(t){this.shader.prepare(t)}}]),t}();e["default"]=u,t.exports=e["default"]},function(t,e,r){"use strict";var n=r(34)["default"],i=r(37)["default"],o=r(3)["default"],a=r(8)["default"],s=r(1)["default"];Object.defineProperty(e,"__esModule",{value:!0});var u=r(43),c=r(59),l=s(c),f=r(60),h=s(f),d=r(61),_=s(d),v=(new Float32Array).BYTES_PER_ELEMENT,p=6,m=v*p,g={vertex:0,color:v*p/2},y=function(t){function e(t){var r=void 0===arguments[1]?[1,1,0]:arguments[1],n=void 0===arguments[2]?1:arguments[2];a(this,e),i(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this._OFFSETS=g,this._STRIDE_SIZE=m,this._STRIDE=p,this._gl=t,this._color=r,this._pointSize=n,this.init(l["default"],h["default"],["a_Position","a_Color","u_Mvp","u_PointSize"]),this._mvpMatrix=u.mat4.create()}return n(e,t),o(e,[{key:"prepare",value:function(t){for(var e=2*t.coords.length,r=new Float32Array(e),n=0,i=0;e>i;i+=p)r[i]=t.coords[n],r[i+1]=t.coords[n+1],r[i+2]=t.coords[n+2],r[i+3]=this._color[0],r[i+4]=this._color[1],r[i+5]=this._color[2],n+=3;return r}},{key:"prepareUniforms",value:function(t,e){this.setUniformMatrix4fv("u_Mvp",u.mat4.multiply(this._mvpMatrix,e.projectionViewMatrix,t.modelMatrix)),this.setUniform1f("u_PointSize",this._pointSize)}},{key:"prepareLocations",value:function(t){this._gl.vertexAttribPointer(this._locations.a_Position,t.componentCount/2,this._gl.FLOAT,!1,m,g.vertex),this._gl.vertexAttribPointer(this._locations.a_Color,t.componentCount/2,this._gl.FLOAT,!1,m,g.color),this._gl.enableVertexAttribArray(this._locations.a_Position),this._gl.enableVertexAttribArray(this._locations.a_Color)}}]),e}(_["default"]);e["default"]=y,t.exports=e["default"]},function(t,e){t.exports="attribute vec4 a_Position;\nattribute vec4 a_Color;\n\nuniform float u_PointSize;\n// model view projection matrix\nuniform mat4 u_Mvp;\nvarying vec4 v_Color;\n\nvoid main()\n{\n  gl_Position = u_Mvp * a_Position;\n  gl_PointSize = u_PointSize;\n\n  v_Color = a_Color;\n}\n"},function(t,e){t.exports="precision mediump float;\nvarying vec4 v_Color;\n\nvoid main ()\n{\n  gl_FragColor = v_Color;\n}\n"},function(t,e,r){"use strict";var n=r(3)["default"],i=r(8)["default"];Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(e){if(i(this,t),this._gl=e,this._program,this._locations={},void 0==this.prepare)throw new TypeError("Shader::prepare must be declared");if(void 0==this.prepareUniforms)throw new TypeError("Shader::prepareUniforms must be declared");if(void 0==this.prepareLocations)throw new TypeError("Shader::prepareLocations must be declared")}return n(t,[{key:"init",value:function(t,e,r){this._createProgram(this._compile(t,this._gl.VERTEX_SHADER),this._compile(e,this._gl.FRAGMENT_SHADER)),this._locations=this._getLocations(r)}},{key:"enable",value:function(){this._gl.useProgram(this._program),this._gl.program=this._program}},{key:"setUniform1f",value:function(t,e){this._gl.uniform1f(this._locations[t],e)}},{key:"setUniform4fv",value:function(t,e){this._gl.uniform4fv(this._locations[t],e)}},{key:"setUniform3fv",value:function(t,e){this._gl.uniform3fv(this._locations[t],e)}},{key:"setUniformMatrix4fv",value:function(t,e){this._gl.uniformMatrix4fv(this._locations[t],!1,e)}},{key:"_getLocations",value:function(t){var e=this;return t.reduce(function(t,r){var n=void 0;if(r.startsWith("a_"))n=e._gl.getAttribLocation(e._program,r);else{if(!r.startsWith("u_"))throw new Error("Attrib/Unif/Var must start with u_, a_ or v_");n=e._gl.getUniformLocation(e._program,r)}if(!~n)throw new Error("Failed to retrieve location of "+r);return t[r]=n,t},{})}},{key:"_compile",value:function(t,e){var r=this._gl.createShader(e);if(this._gl.shaderSource(r,t),this._gl.compileShader(r),!this._gl.getShaderParameter(r,this._gl.COMPILE_STATUS))throw console.error("Error in the following shader:"),console.error(t),new Error("Shader failed to compile: "+this._gl.getShaderInfoLog(r));return r}},{key:"_createProgram",value:function(t,e){if(this._program=this._gl.createProgram(),!this._program)throw new Error("_createProgram: coult not create program.");if(this._gl.attachShader(this._program,t),this._gl.attachShader(this._program,e),this._gl.linkProgram(this._program),!this._gl.getProgramParameter(this._program,this._gl.LINK_STATUS))throw new Error("Shader program failed to link: "+this._gl.getProgramInfoLog(this._program))}}]),t}();e["default"]=o,t.exports=e["default"]},function(t,e,r){"use strict";var n=r(3)["default"],i=r(8)["default"],o=r(27)["default"];Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(e){i(this,t),this._camera=e,this._renderQueue=[]}return n(t,[{key:"submit",value:function(){var t;(t=this._renderQueue).push.apply(t,arguments)}},{key:"flush",value:function(){var t=!0,e=!1,r=void 0;try{for(var n,i=o(this._renderQueue);!(t=(n=i.next()).done);t=!0){var a=n.value;a.draw(this._camera)}}catch(s){e=!0,r=s}finally{try{!t&&i["return"]&&i["return"]()}finally{if(e)throw r}}}}]),t}();e["default"]=a,t.exports=e["default"]},,function(t,e,r){"use strict";var n=r(3)["default"],i=r(8)["default"];Object.defineProperty(e,"__esModule",{value:!0});var o=r(43),a=["Camera can't be instantiated directly.","Go with PerspectiveCamera or OrthographicCamera."].join(" "),s=function(){function t(){if(i(this,t),this.constructor==t)throw new TypeError(a);if(this._dirty=!0,this._dirtyInverse=!0,this._width=0,this._height=0,this._at=o.vec3.create(),this._position=o.vec3.clone([0,0,-1]),this._up=o.vec3.clone([0,1,0]),this._viewMatrix=o.mat4.create(),this._projectionMatrix=o.mat4.create(),this._projectionViewMatrix=o.mat4.create(),this._inverseProjectionViewMatrix=o.mat4.create(),void 0==this._updateProjectionViewMatrix)throw new TypeError("Camera::_updateProjectionViewMatrix not declared")}return n(t,[{key:"incrementPosition",value:function(t){var e=void 0===arguments[1]?0:arguments[1],r=void 0===arguments[2]?0:arguments[2];this._position[0]+=t,this._position[1]+=e,this._position[2]+=r,this._dirty=!0,this._dirtyInverse=!0}},{key:"unproject",value:function(t,e){o.vec3.copy(e,[2*t.offsetX/this._width-1,1-2*t.offsetY/this._height,0]),o.vec3.transformMat4(e,e,this.inverseProjectionViewMatrix),e[2]=0}},{key:"position",get:function(){return this._position},set:function(t){this._position=t,this._dirty=!0,this._dirtyInverse=!0}},{key:"at",get:function(){return this._at},set:function(t){this._at=t,this._dirty=!0,this._dirtyInverse=!0}},{key:"up",get:function(){return this._up},set:function(t){this._up=t,this._dirty=!0,this._dirtyInverse=!0}},{key:"ar",get:function(){return this._ar},set:function(t){this._ar=t,this._dirty=!0,this._dirtyInverse=!0}},{key:"projectionViewMatrix",get:function(){return this._dirty&&(this._updateProjectionViewMatrix(),this._dirty=!1),this._projectionViewMatrix}},{key:"inverseProjectionViewMatrix",get:function(){return this._dirty&&(this._updateProjectionViewMatrix(),this._dirty=!1),this._dirtyInverse&&(o.mat4.invert(this._inverseProjectionViewMatrix,this._projectionViewMatrix),this._dirtyInverse=!1),this._inverseProjectionViewMatrix}}]),t}();e["default"]=s,t.exports=e["default"]}]);